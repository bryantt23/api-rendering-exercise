[{"C:\\Users\\bryan\\Downloads\\js bible\\hatch\\work-orders\\src\\index.js":"1","C:\\Users\\bryan\\Downloads\\js bible\\hatch\\work-orders\\src\\App.js":"2","C:\\Users\\bryan\\Downloads\\js bible\\hatch\\work-orders\\src\\reportWebVitals.js":"3","C:\\Users\\bryan\\Downloads\\js bible\\hatch\\work-orders\\src\\components\\WorkOrders.js":"4","C:\\Users\\bryan\\Downloads\\js bible\\hatch\\work-orders\\src\\components\\WorkOrder.js":"5","C:\\Users\\bryan\\Downloads\\js bible\\hatch\\work-orders\\src\\components\\WorkerInfo.js":"6","C:\\Users\\bryan\\Downloads\\js bible\\hatch\\work-orders\\src\\components\\WorkerSearch.js":"7","C:\\Users\\bryan\\Downloads\\js bible\\hatch\\work-orders\\src\\components\\ToggleButton.js":"8"},{"size":500,"mtime":1607103703069,"results":"9","hashOfConfig":"10"},{"size":2801,"mtime":1612073950134,"results":"11","hashOfConfig":"10"},{"size":362,"mtime":1607103703069,"results":"12","hashOfConfig":"10"},{"size":446,"mtime":1612077994685,"results":"13","hashOfConfig":"10"},{"size":993,"mtime":1612077146729,"results":"14","hashOfConfig":"10"},{"size":532,"mtime":1612076651770,"results":"15","hashOfConfig":"10"},{"size":233,"mtime":1612075206791,"results":"16","hashOfConfig":"10"},{"size":575,"mtime":1612075093140,"results":"17","hashOfConfig":"10"},{"filePath":"18","messages":"19","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},"1pnz4gu",{"filePath":"21","messages":"22","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"23","usedDeprecatedRules":"20"},{"filePath":"24","messages":"25","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},"C:\\Users\\bryan\\Downloads\\js bible\\hatch\\work-orders\\src\\index.js",[],["36","37"],"C:\\Users\\bryan\\Downloads\\js bible\\hatch\\work-orders\\src\\App.js",["38","39"],"import './App.css';\nimport WorkOrders from './components/WorkOrders';\nimport WorkerSearch from './components/WorkerSearch';\nimport ToggleButton from './components/ToggleButton';\nimport React, { useState, useEffect } from 'react';\n\nfunction App() {\n  const workOrdersApi = 'https://api.hatchways.io/assessment/work_orders';\n  const workWorkersApi = 'https://api.hatchways.io/assessment/workers/';\n\n  const [workerSearch, setWorkerSearch] = useState('');\n  const [workers, setWorkers] = useState({});\n  const [orders, setOrders] = useState([]);\n  const [filteredOrders, setFilteredOrders] = useState([]);\n  const [earliestFirst, setEarliestFirst] = useState(true);\n\n  async function getOrders() {\n    const res = await fetch(workOrdersApi);\n    const data = await res.json();\n    setOrders(data.orders);\n  }\n\n  useEffect(() => {\n    getOrders();\n  }, []);\n\n  useEffect(() => {\n    getWorkers();\n  }, [orders]);\n\n  // https://www.freecodecamp.org/news/promise-all-in-javascript-with-example-6c8c5aea3e32/\n  // Iterates all users and returns their Github info.\n  const fetchUserInfo = async () => {\n    const requests = orders.map(async order => {\n      const url = workWorkersApi + order.workerId;\n      const data = await fetch(url);\n      const res = await data.json();\n      return res;\n    });\n    return Promise.all(requests); // Waiting for all the requests to get resolved.\n  };\n\n  async function getWorkers() {\n    let workerMap = {};\n    const info = await fetchUserInfo();\n\n    // https://stackoverflow.com/questions/37576685/using-async-await-with-a-foreach-loop\n    for await (const data of info) {\n      let { worker } = data;\n      workerMap[worker.id] = worker;\n    }\n\n    setWorkers(workerMap);\n  }\n\n  useEffect(() => {\n    let ordersByTime = orders.sort((a, b) => a.deadline - b.deadline);\n    if (!earliestFirst) {\n      ordersByTime = orders.reverse();\n    }\n\n    if (workerSearch) {\n      let validWorkers = [];\n      for (let prop in workers) {\n        if (\n          workers[prop].name.toLowerCase().includes(workerSearch.toLowerCase())\n        ) {\n          validWorkers.push(workers[prop].id);\n        }\n      }\n\n      const filteredOrders = ordersByTime.filter(order =>\n        validWorkers.includes(order.workerId)\n      );\n\n      setFilteredOrders(filteredOrders);\n    } else {\n      setFilteredOrders(ordersByTime);\n    }\n  }, [workerSearch, orders, earliestFirst]);\n\n  return (\n    <div className='App'>\n      <ToggleButton\n        earliestFirst={earliestFirst}\n        toggleSelected={() => {\n          setEarliestFirst(!earliestFirst);\n        }}\n      />\n      <WorkerSearch setWorkerSearch={setWorkerSearch} />\n      <WorkOrders\n        workerSearch={workerSearch}\n        orders={filteredOrders}\n        workers={workers}\n      />\n    </div>\n  );\n}\n\nexport default App;\n","C:\\Users\\bryan\\Downloads\\js bible\\hatch\\work-orders\\src\\reportWebVitals.js",[],"C:\\Users\\bryan\\Downloads\\js bible\\hatch\\work-orders\\src\\components\\WorkOrders.js",[],"C:\\Users\\bryan\\Downloads\\js bible\\hatch\\work-orders\\src\\components\\WorkOrder.js",[],"C:\\Users\\bryan\\Downloads\\js bible\\hatch\\work-orders\\src\\components\\WorkerInfo.js",[],"C:\\Users\\bryan\\Downloads\\js bible\\hatch\\work-orders\\src\\components\\WorkerSearch.js",[],"C:\\Users\\bryan\\Downloads\\js bible\\hatch\\work-orders\\src\\components\\ToggleButton.js",[],{"ruleId":"40","replacedBy":"41"},{"ruleId":"42","replacedBy":"43"},{"ruleId":"44","severity":1,"message":"45","line":29,"column":6,"nodeType":"46","endLine":29,"endColumn":14,"suggestions":"47"},{"ruleId":"44","severity":1,"message":"48","line":80,"column":6,"nodeType":"46","endLine":80,"endColumn":43,"suggestions":"49"},"no-native-reassign",["50"],"no-negated-in-lhs",["51"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'getWorkers'. Either include it or remove the dependency array.","ArrayExpression",["52"],"React Hook useEffect has a missing dependency: 'workers'. Either include it or remove the dependency array.",["53"],"no-global-assign","no-unsafe-negation",{"desc":"54","fix":"55"},{"desc":"56","fix":"57"},"Update the dependencies array to be: [getWorkers, orders]",{"range":"58","text":"59"},"Update the dependencies array to be: [workerSearch, orders, earliestFirst, workers]",{"range":"60","text":"61"},[898,906],"[getWorkers, orders]",[2352,2389],"[workerSearch, orders, earliestFirst, workers]"]